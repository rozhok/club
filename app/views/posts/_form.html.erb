<div class="container mx-auto w-7/8">
  <%= form_with model: @post do |f| %>
    <div class="card card-border shadow-sm text-black">
      <div class="card-body">

        <fieldset class="fieldset">
          <%= f.select :post_type, Post::POST_TYPES, {}, { class: "select" } %>
          <span class="label">–¢–∏–ø –ø–æ—Å—Ç—É</span>
        </fieldset>

        <fieldset class="fieldset">
          <%= f.text_field :title, class: "w-full min-w-full input input-l #{@post.errors[:title].any? ? 'input-error' : ''}" %>
          <p class="label <%= @post.errors[:title].any? ? 'text-error' : '' %>">
            <% if @post.errors[:title].any? %>
              <span class="label-text-alt text-error"><%= @post.errors[:title].first %></span>
            <% else %>
              –ù–∞–∑–≤–∞ –ø–æ—Å—Ç—É
            <% end %>
          </p>
        </fieldset>

        <fieldset class="fieldset">
          <%= f.text_field :link, class: "w-full min-w-full input input-l #{@post.errors[:link].any? ? 'input-error' : ''}" %>
          <p class="label <%= @post.errors[:link].any? ? 'text-error' : '' %>">
            <% if @post.errors[:link].any? %>
              <span class="label-text-alt text-error"><%= @post.errors[:link].first %></span>
            <% else %>
              –ü–æ—Å–∏–ª–∞–Ω–Ω—è (—è–∫—â–æ —Ü–µ –ø—Ä–æ—î–∫—Ç –∞–±–æ –ø–æ—Å—Ç-–ø–æ—Å–∏–ª–∞–Ω–Ω—è)
            <% end %>
          </p>
        </fieldset>

        <fieldset class="fieldset">
          <div class="flex gap-4">
            <label class="flex items-center gap-2 cursor-pointer">
              <%= f.radio_button :is_public, true, class: "radio radio-primary" %>
              <span class="label-text">üåé</span>
              <span class="label-text">–ü—É–±–ª—ñ—á–Ω–∏–π ‚Äî –±—É–¥—å-—Ö—Ç–æ –∑–º–æ–∂–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø–æ—Å—Ç –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
              <%= f.radio_button :is_public, false, class: "radio radio-primary" %>
              <span class="label-text">üîê</span>
              <span class="label-text">–ü—Ä–∏–≤–∞—Ç–Ω–∏–π ‚Äî –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤ –ö–ª—É–±—É</span>
            </label>
          </div>
          <span class="label">–í–∏–¥–∏–º—ñ—Å—Ç—å –ø–æ—Å—Ç—É</span>
        </fieldset>

        <div class="<%= @post.errors[:content].any? ? 'border-2 border-error rounded-lg' : '' %>">
          <%= rhino_editor_for(f, :content) %>
        </div>

        <% if @post.errors[:content].any? %>
          <p class="label text-error mt-2">
            <span class="label-text-alt text-error"><%= @post.errors[:content].first %></span>
          </p>
        <% end %>

      </div>
      <div class="card-actions justify-end p-4 pt-0 pr-6">
        <% if @post.created_at %>
          <!-- existing post -->
          <%= f.button type: "submit", name: "publish", class: "btn btn-sm btn-neutral btn-outline" do %>
            <span>‚úÖ</span>
            <span>–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</span>
          <% end %>
          <% if @post.draft? %>
            <!-- saved draft -->
            <%= f.button type: "submit", name: "draft", class: "btn btn-sm btn-neutral btn-outline" do %>
              <span>üíæ</span><span>–ó–±–µ—Ä–µ–≥—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É</span>
            <% end %>
          <% end %>
          <%= link_to :back, class: "btn btn-sm btn-neutral btn-outline" do %>
            <span>‚ùå</span>
            <span>–°–∫–∞—Å—É–≤–∞—Ç–∏</span>
          <% end %>
        <% else %>
          <!-- new post -->
          <%= f.button type: "submit", name: "publish", class: "btn btn-sm btn-neutral btn-outline" do %>
            <span>‚úÖ</span><span>–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</span>
          <% end %>
          <%= f.button type: "submit", name: "draft", class: "btn btn-sm btn-neutral btn-outline" do %>
            <span>üíæ</span><span>–ó–±–µ—Ä–µ–≥—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É</span>
          <% end %>
          <%= link_to :back, class: "btn btn-sm btn-neutral btn-outline" do %>
            <span>‚ùå</span><span>–°–∫–∞—Å—É–≤–∞—Ç–∏</span>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>